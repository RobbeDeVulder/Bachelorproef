%---------- Inleiding ---------------------------------------------------------

\section{Introductie}%
\label{sec:introductie}

Het voorspellen van wedstrijduitslagen is al lange tijd een populaire activiteit onder sportfans en gokkers. Maar voor voetbalclubs kan dit ook voordelen met zich meebrengen, zoals het uitproberen van verschillende opstellingen om te bepalen welke de grootste kans op succes biedt, of het maken van strategische beslissingen over spelerselecties. De uitslagen van deze wedstrijden voorspellen is echter niet altijd even gemakkelijk. Er zijn namelijk veel verschillende factoren die hierin een rol spelen.
Machine Learning (ML), een onderdeel van kunstmatige intelligentie, biedt een potentieel hulpmiddel om de uitslagen van wedstrijden te voorspellen. Door het verzamelen en analyseren van verschillende gegevens, kunnen ML-modellen patronen en trends identificeren die vervolgens gebruikt kunnen worden voor het voorspellen van mogelijke uitslagen.
Hoewel het gebruik van ML voor het voorspellen van voetbalwedstrijden niet nieuw is, bestaan er nog vele mogelijkheden voor verbetering. Bijvoorbeeld, de integratie van geavanceerdere algoritmes of de combinatie van uiteenlopende datasets kan de voorspellingsnauwkeurigheid verhogen. Deze bachelorproef zoekt een antwoord op de vraag: "Hoe kan de toepassing van Machine Learning bijdragen aan het voorspellen van voetbalwedstrijden bij Club Brugge?" Om tot dit antwoord te komen worden verschillende deelvragen onderzocht:

\begin{itemize}
  \item Welk algoritme is het meest geschikt voor deze toepassing?
  \item Welke statistieken hebben een significante invloed op het eindresultaat?
  \item Hoe kunnen de resultaten van de ML-modellen worden geëvalueerd om de nauwkeurigheid en betrouwbaarheid van de voorspellingen te bepalen?
  \item Wat zijn de beperkingen van ML bij het voorspellen van voetbalwedstrijden en hoe kunnen deze worden aangepakt?
  \item Hoe kan de voorspellende nauwkeurigheid van ML-modellen voor voetbalwedstrijden worden verbeterd?
\end{itemize}

Tijdens dit onderzoek zal gebruik worden gemaakt van verschillende soorten data: historische wedstrijdresultaten, teamstatistieken, speler statistieken, blessure- en schorsingsrapporten en weersomstandigheden. De historische resultaten en teamstatistieken zullen worden verzameld uit openbare bronnen en databases, met informatie over doelpunten, assists, tackles, passes, etc. . Voor specifieke gegevens over blessures, schorsingen, en gedetailleerde team- en speler informatie zal gebruik gemaakt worden van de interne bronnen van Club Brugge. Meteorologische gegevens, waaronder temperatuur, neerslag en wind, zullen worden opgehaald uit een meteorologische database.
Als antwoord op de onderzoeksvraag wordt een prototype ontwikkeld. Dit prototype zal worden gebaseerd op de bevindingen die voortkomen uit de beantwoorde deelvragen.

%---------- Stand van zaken ---------------------------------------------------

\section{Literatuurstudie}%
\label{sec:state-of-the-art}

De afgelopen jaren is de interesse in het toepassen van Machine Learning (ML) in sport toegenomen, zeker bij het voorspellen van voetbalwedstrijden. Deze interesse is deels te wijten aan de groeiende beschikbaarheid van datasets, variërend van speler statistieken tot wedstrijdresultaten. Deze data kan nuttig zijn voor spelers en coaches om hun prestaties te verbeteren, maar ook voor wie wedt op sportevenementen en de bedrijven hierachter.
Om een voetbalwedstrijd te voorspellen moet je rekening houden met veel diverse factoren. \textcite{Stuebinger2019} en \textcite{Rodrigues2022} illustreerden de waarden van gedetailleerde speler statistieken waaronder: lichaamsmetingen, pas nauwkeurigheid, behendigheid, reactie en agressie. Bovendien werd informatie over de prestaties van teams tijdens de wedstrijden - zoals: doelpunten, schoten op kader en aantal hoekschoppen - ook als cruciale data beschouwd. Alhoewel de studie van \textcite{Sathyanarayana2022} over cricket gaat, word hier ook de invloed van weersomstandigheden toegelicht.
Daarnaast werd in de studie van \textcite{Baboota2019} de onvoorspelbaarheid van de sport benadrukt. Ondanks de uitgebreide data-analyse en complexe modellen kunnen er nog steeds verassingen en onverwachte uitkomsten voorkomen, zoals de historische titelzege van Leicester City in 2016.
Tot slot, naast de speler- en teamstatistieken, tonen de studies ook aan dat andere factoren zoals het 'thuisvoordeel' en het verloop van de voorgaande wedstrijd(en) ook een aanzienlijke invloed hebben op het eindresultaat.

Het verfijnen van de data speelt een cruciale rol in het voorspellen van de resultaten met ML. \textcite{Bunker2019} maakte onderscheid tussen 'wedstrijd gerelateerde' en 'externe' factoren. Waarbij deze eerste slaan op de factoren die binnen de wedstrijd vallen zoals: gemaakte meters, passes, enz. Terwijl de 'externe' factoren verwijzen naar de elementen buiten de wedstrijd, zoals recente prestaties en beschikbare spelers.
\textcite{Rodrigues2022} daarentegen creëert nieuwe variabelen om het eindresultaat beter te kunnen voorspellen. Er werden twee soorten variabelen aangemaakt:
\begin{itemize}
  \item het aantal thuisoverwinningen van het thuisspelende team,
  \item het aantal uitoverwinningen van het bezoekende team.
\end{itemize}
Een te grote dataset met veel verschillende features is ook niet al te best om een goede voorspelling te maken. \textcite{Baboota2019} had een totaal van 33 verschillende features waaruit ze de best presterende en meest relevante features haalden aan de hand van feature selection.

Nadat de data verzameld en opgeschoond is, kunnen de modellen getraind worden. Er zijn meerdere ML-modellen die toegepast kunnen worden. Het doel is om te voorspellen of het resultaat een winst (W), gelijkspel (D) of een verlies (L) is voor de thuisploeg, dit wil zeggen dat gebruik gemaakt moet worden van classificatiemodellen.
\textcite{Rodrigues2022} experimenteerde met een breed scala aan modellen, waaronder: Naive Bayes, K-nearest neighbours, random forest, support vector machines, Xgboost en logistic regression. Ook gebuikte hij Artifical Neural Networks, een deep learning model die ook \textcite{Bunker2019}, \textcite{Carloni2021} en \textcite{Azeman2020} gebruikten in hun studies. 
Daarnaast gebruikten \textcite{Stuebinger2019} en \textcite{KevinAndrews2021} ook deze modellen. Stuebinger gebruikte random forest en boosting technieken. Deze zijn nuttig voor het omgaan met zowel numerieke als categorische invoer en helpen bij het vermijden van overfitting. Ook gebruikte hij SVM (Support Vector Machines) en Linear Regression, waarbij deze laatste eenvoudig statistisch te interpreteren is.
De hoeveelheid aan modellen gebruikt in de verschillende studies geeft aan dat er een brede keuze is aan ML-modellen voor de voorspelling van voetbalwedstrijden.

Om de modellen nog beter te laten presteren kunnen deze altijd nog geoptimaliseerd worden. Een van de meest voorkomende technieken is het gebruik van een grid search. Dit is een methode waarbij een reeks vooraf gedefinieerde waarden van parameters wordt gebruikt om het optimale model te vinden. Voor elke combinatie van parameters wordt het model getraind en getest om zo de best presterende combinatie te verkrijgen. Meer info hierover vind je in “Hands-On Machine Learning with Scikit-Learn, Keras, and TensorFlow” door \autocite{Geron2019}.

Nu de modellen geoptimaliseerd en getraind zijn kunnen ze geëvalueerd en vergeleken worden. Hiervoor moeten de juiste prestatie indicatoren gekozen worden die het meest relevant zijn voor het probleem.
\textcite{Stuebinger2019} gebruikte een combinatie van nauwkeurigheid, root mean squared error en de mean absolute deviation om de prestaties van hun modellen te berekenen. Hierbij presteerde het random forest model het beste met de hoogste nauwkeurigheid.
Daarentegen beoordeelde \textcite{Rodrigues2022} de prestaties aan de hand van hun nauwkeurigheid en het percentage correct voorspelde gelijke spelen en overwinningen van zowel de thuisploeg als de uitploeg. In dit onderzoek bleek het SVM model de hoogste nauwkeurigheid te behalen.
\textcite{Azeman2020} gebruikte een uitgebreidere set van prestatie-indicatoren, waaronder: nauwkeurigheid, precisie en recall. Deze indicatoren nemen zowel het aantal correcte voorspellingen als de balans tussen de voorspellingen van positieve en negatieve klassen in overweging.
Er zijn veel verschillende methoden om de prestatie te bereken en er is geen optimale prestatiemaatstaf. Het is belangrijk om de prestatiemaatstaven te kiezen die relevant zijn voor de opdracht.

Op basis van hun uitgebreide studies kwamen de verschillende onderzoekers aan bij differente conclusies.
\textcite{Bunker2019} en \textcite{KevinAndrews2021} benadrukken de noodzaak van meer nauwkeurige ML-modellen in de sportvoorspelling. Dit vooral met het oog op het hoge volume aan sportweddenschappen en de behoefte van sportmanagers aan nuttige informatie voor het ontwikkelen van toekomstige strategieën. Andrews wijst specifiek op het belang van het gebruik van grote datasets voor de training van modellen, gezien de inherente onvoorspelbaarheid van de sport.
Tegelijkertijd tonen de studies van \textcite{Rodrigues2022} en \textcite{Azeman2020} aan dat het testen van verschillende variabelencombinaties succesvol kan zijn. Deze studies leveren modellen op met hoge succespercentages. Rodrigues wees random forest, SVM en Xgboost aan als de beste algoritmen. Azeman vond dat de Multiclass Decision Forest accurater en preciezer was dan het neuraal netwerk en de two-class SVM.
Dergelijke conclusies tonen aan dat machine learning een potentieel krachtig instrument is voor het voorspellen van voetbalwedstrijden. Maar ze benadrukken ook de uitdagingen die nog bestaan, zoals het juiste model met juiste variabelen kiezen en het rekening houden met een breed scala aan factoren voor het verbeteren van de nauwkeurigheid van de voorspellingen. Ondanks de indrukwekkende vooruitgang in dit gebied is er nog verder onderzoek nodig over dit onderwerp.

% Voor literatuurverwijzingen zijn er twee belangrijke commando's:
% \autocite{KEY} => (Auteur, jaartal) Gebruik dit als de naam van de auteur
%   geen onderdeel is van de zin.
% \textcite{KEY} => Auteur (jaartal)  Gebruik dit als de auteursnaam wel een
%   functie heeft in de zin (bv. ``Uit onderzoek door Doll & Hill (1954) bleek
%   ...'')

%---------- Methodologie ------------------------------------------------------
\section{Methodologie}%
\label{sec:methodologie}

Het onderzoek begint met een literatuurstudie die verschillende Machine Learning (ML) modellen, technieken, en prestatiemaatstaven onderzoekt. Dit deel richt zich ook op het analyseren van eerdere studies, met speciale aandacht voor de gebruikte modellen en datasets.
Vervolgens zullen Python scripts worden geschreven voor de dataverzameling, waarbij gegevens uit verschillende bronnen worden verzameld. Deze bronnen omvatten openbare databases voor historische wedstrijdresultaten, spelerstatistieken, teamstatistieken en weersomstandigheden. Daarnaast zal gebruik worden gemaakt van interne bronnen van Club Brugge voor het verkrijgen van blessure- en schorsingsrapporten, evenals specifieke team- en spelersgegevens. Alle verzamelde gegevens zullen worden samengebracht in een centrale databank.
Na de dataverzameling wordt de data omgezet in een gestructureerde dataset, waarna een datacleaning proces volgt. Hierbij worden onbelangrijke kolommen verwijderd, ontbrekende waarden aangevuld en de dataset genormaliseerd. Tijdens de feature engineering fase wordt bepaald welke factoren significant bijdragen aan de uitslagen van voetbalwedstrijden. De dataset wordt vervolgens verdeeld in trainings-, test-, en validatiesets.
Voor de modelselectie en training worden verschillende ML-modellen geselecteerd, gebaseerd op de literatuurstudie en de aard van de beschikbare data. Deze modellen variëren van eenvoudige regressieanalyses tot complexere neurale netwerken, elk met het doel om drie voorspellingspercentages te genereren: het winstpercentage (W), het gelijkspelpercentage (D) en het verliespercentage (L) voor elke geanalyseerde wedstrijd. Bijvoorbeeld, het model kan voorspellen dat Club Brugge 70\% kans heeft op winst, 20\% kans op een gelijkspel, en 10\% kans op verlies voor een specifieke wedstrijd.
De modelprestaties zullen zorgvuldig worden geëvalueerd op de test- en validatiesets met behulp van prestatiemaatstaven zoals nauwkeurigheid, precisie, recall, F1-score, en de ROC-curve. Deze stap is essentieel om de effectiviteit van de modellen in het voorspellen van wedstrijduitslagen te beoordelen.
Ten slotte omvat het onderzoek een vergelijking van de prestaties van de verschillende modellen om het meest effectieve model of de beste combinatie van modellen te identificeren. Dit zal ook het onderzoeken van optimalisatiemogelijkheden omvatten, zoals parameter tuning en het verfijnen van de feature set, met als doel de algehele voorspellingsnauwkeurigheid te verbeteren.

%---------- Verwachte resultaten ----------------------------------------------
\section{Verwacht resultaat, conclusie}%
\label{sec:verwachte_resultaten}

Uit het onderzoek wordt verwacht dat Machine Learning (ML) een mogelijk hulpmiddel kan zijn bij het voorspellen van voetbalwedstrijden. Gezien de grote onvoorspelbaarheid van de sport, zullen de resultaten nooit 100\% accuraat zijn. Maar de resultaten kunnen een goede indicatie zijn van mogelijke wedstrijduitslagen, waardoor men bijvoorbeeld de opstelling kan aanpassen om de winstkansen te verbeteren.
De factoren die naar verwachting de meeste invloed zullen hebben op het eindresultaat zijn 'historische wedstrijduitslagen' en 'thuisvoordeel'. Dit is logisch, aangezien de uitkomsten van eerdere wedstrijden een sterke indicator kunnen zijn voor toekomstige prestaties en teams die thuis spelen vaak het voordeel hebben van een vertrouwde omgeving en de steun van meer supporters.
De invloed van weersomstandigheden zal waarschijnlijk als niet significant beschouwd worden. Hoewel deze factor het spelverloop van een wedstrijd kan beïnvloeden, wordt niet verwacht dat het een doorslaggevende rol speelt in de uitslag.
Wat betreft de prestaties van de verschillende modellen, wordt verwacht dat een neuraal netwerk het beste zal presteren. Door zijn vermogen om complexe patronen in uitgebreide datasets te identificeren, kan een neuraal netwerk waardevolle inzichten bieden die andere modellen mogelijk missen.
De verwachte nauwkeurigheid van de voorspellingen ligt rond de 65\%. Dit percentage is aanzienlijk beter dan een willekeurige gok, die een succeskans van slechts 33\% zou hebben en toont de potentiële waarde van ML in het verbeteren van voorspellingsnauwkeurigheid.
